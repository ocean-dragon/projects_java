# 支持单店的扫码点餐小程序开发文档

## 一、产品定位

- **目标用户**：餐饮门店顾客、店员、店主
- **核心场景**：顾客到店后通过微信小程序扫码桌位二维码，自助点餐、下单、支付，店员后台管理订单与菜品
- **产品目标**：提升点餐效率，减少人力成本，优化顾客体验

## 二、核心功能

### 1. 顾客端（微信小程序）
- 微信授权登录、手机号登录
- 扫码识别桌位
- 菜品浏览、分类筛选
- 菜品详情、规格选择
- 购物车管理
- 下单、微信支付
- 订单状态跟踪（待付款、待接单、待上菜、已完成、已取消）
- 历史订单查询
- 用户信息管理

### 2. 店员/店主端（管理后台）
- 员工登录、权限管理
- 菜品分类、菜品管理（增删改查）
- 桌位管理（二维码生成、状态管理）
- 订单管理（接单、上菜、完成、取消）
- 店铺信息管理
- 数据统计与报表（可选）

## 三、技术选型

- **后端**：Java 8、Spring Boot 2.6.13、Mybatis-Plus、Maven、MySQL
- **前端**：
  - 小程序端：微信小程序原生、Element UI
  - 管理后台：Vue、Element UI/Element Plus
- **其他**：Spring Security、Guava Cache、SLF4J+Logback、Spring Boot Actuator

## 四、开发流程

1. **需求分析**：梳理业务流程、功能点、页面原型
2. **数据库设计**：根据业务梳理表结构，编写建表SQL
3. **接口设计**：定义RESTful API，编写接口文档
4. **后端开发**：搭建Spring Boot项目，开发各模块接口
5. **前端开发**：
   - 小程序端：页面开发、接口对接
   - 管理后台：页面开发、接口对接
6. **联调测试**：前后端联调，功能测试、异常测试
7. **上线部署**：打包发布，配置服务器、数据库，生成桌位二维码
8. **运维监控**：日志监控、性能监控、问题追踪

## 五、接口规范

- **请求协议**：POST为主，参数JSON，返回JSON
- **统一响应格式**：
  - 成功：{"code":1,"msg":"success","data":obj}
  - 失败：{"code":0,"msg":"errorMsg"}
- **接口安全**：登录态校验、权限校验、参数校验

## 六、数据库设计

- 用户表（user）
- 员工表（employee）
- 菜品分类表（category）
- 菜品表（dish）
- 规格表（specification）
- 桌位表（table_info）
- 订单表（order）
- 订单明细表（order_detail）
- 店铺信息表（shop_info）

> 详细字段见项目SQL脚本

## 七、页面与交互流程

### 1. 小程序端
- 登录页 → 首页 → 分类页/菜品页 → 购物车 → 订单确认 → 支付 → 订单详情/历史订单
- 扫码自动跳转桌位点餐流程

### 2. 管理后台
- 登录页 → 菜品管理/订单管理/桌位管理/员工管理/店铺信息

## 八、测试与上线

- 功能测试：各端主要流程全覆盖
- 接口测试：Postman/Apifox等工具
- 性能测试：高并发下点餐、支付、订单处理
- 上线准备：服务器环境、数据库初始化、二维码批量生成

## 九、后续优化方向

- 多店支持
- 优惠券、会员体系
- 外卖配送对接
- 数据分析与BI
